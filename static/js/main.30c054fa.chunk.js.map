{"version":3,"sources":["config.js","helpers/url.js","components/Canary.js","components/Lights.js","lib/GameOverScreen.js","components/CameraController.js","components/Obstacle.js","components/BoundingBox.js","components/Path.js","lib/Game.js","components/Videos.js","lib/StartScreen.js","index.js"],"names":["canaryConfig","objectUrl","hop","idle","walk","nodeCoords","nodeSigns","nodeScale","nodeGroupScale","meshColorIndex","meshScale","debug","model","material","scale","metalness","roughness","opacity","color","gridPosition","cameraPosition","pointColorIndex","primary","hovered","active","pointLight","position","intensity","distance","bloom","kernelSize","luminanceThreshold","luminanceSmoothing","glitch","delay","duration","strength","lights","front","left","right","brandPalette","ciano","magenta","white","black","assetURL","path","console","info","process","publicUrl","URL","isRoot","pathname","concat","Canary","React","forwardRef","props","playerRef","initialPosition","_useState","useState","_useState2","Object","slicedToArray","setPosition","_useState3","_useState4","isJumping","setIsJumping","animation","speed","reversed","glb","_useGLTF","useGLTF","scene","nodes","materials","animations","animationRef","useRef","meshRef","useEffect","current","rotation","x","Math","PI","THREE","forEach","clip","action","clipAction","timeScale","play","stopAllAction","handleKeyDown","event","key","prevPosition","window","addEventListener","removeEventListener","useFrame","_","delta","update","newY","max","useLayoutEffect","canary","set","traverse","obj","type","receiveShadow","castShadow","assign","wireframe","moughness","react_default","a","createElement","ref","object","Lights","_ref","config","groupL","groupR","lightL","lightR","lightF","state","t","clock","getElapsedTime","currentPosition","parseInt","random","sin","y","cos","z","useHelper","Fragment","GameOverScreen","react_three_fiber_esm","shadows","dpr","camera","fov","performance","min","Lights_Lights","react","fallback","dist","multisampling","OrbitControls","minPolarAngle","maxPolarAngle","ReactDOM","createPortal","OverlayContainer","Title","Subtitle","document","body","blinkAnimation","keyframes","_templateObject","taggedTemplateLiteral","styled","div","_templateObject2","h1","_templateObject3","h2","_templateObject4","CameraController","_useThree","useThree","is2D","setIs2D","perspCamera","toggleCamera","code","lookAt","updateProjectionMatrix","Obstacle","positionZ","side","video","videoRef","texture","VideoTexture","needsUpdate","args","map","Obstacles","_ref2","videos","obstacles","setObstacles","obstacleRefs","gamePosition","setGamePosition","lastSegmentRef","clockRef","elapsedTime","playerBox","box","setBox","newBox","Box3","setFromObject","useBoundingBox","collisionDetected","obstacleBox","intersectsBox","log","prevObstacles","segment","lastSegmentZ","length","newSegmentZ","floor","toConsumableArray","slice","_ref3","index","obstacleRef","undefined","push","SideSegment","positionX","PathSegment","Path","segments","setSegments","prevSegments","Game","showGameOverScreen","setShowGameOverScreen","score","setScore","startTimeRef","now","videoURLs","setVideos","videoElements","url","src","videoElement","loaded","videoObj","preload","muted","loop","playbackRate","setAttribute","onCanPlayThrough","every","v","load","usePreloadedVideos","handleKeyPress","interval","setInterval","clearInterval","ScoreContainer","Score","GameOverScreen_GameOverScreen","Game_templateObject","Game_templateObject2","StartScreen","showStartScreen","setShowStartScreen","StartScreen_OverlayContainer","StartScreen_Title","StartScreen_Subtitle","Game_Game","StartScreen_templateObject","StartScreen_templateObject2","StartScreen_templateObject3","StartScreen_templateObject4","App","className","style","display","flexDirection","alignItems","height","StartScreen_StartScreen","Component","rootElement","getElementById","createRoot","render","src_App"],"mappings":"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","file":"static/js/main.30c054fa.chunk.js","sourcesContent":["const canaryConfig = {\n  objectUrl: {\n    hop: 'canary_hop.glb',\n    idle: 'canary_idle.glb',\n    walk: 'canary_walk.glb'\n  },\n  nodeCoords: 'canary.geometry.attributes.position',\n  nodeSigns: [1, -1, -1],\n  nodeScale: 2.5,\n  nodeGroupScale: 0.02,\n  meshColorIndex: 'ciano',\n  meshScale: 1,\n  debug: false,\n  model: {\n    material: 'Default_OBJ',\n    scale: 0.02,\n    metalness: 0.2,\n    roughness: 2,\n    opacity: 1,\n    color: 'white'\n  },\n  gridPosition: [0, -0.52, 0.28],\n  cameraPosition: [-20, 0, 0],\n  pointColorIndex: {\n    primary: 'ciano',\n    hovered: 'magenta',\n    active: 'magenta'\n  },\n  pointLight: {\n    position: [0, 0, 0],\n    intensity: [2, 2, 2],\n    distance: 15,\n    color: ['ciano', 'magenta', 'magenta']\n  },\n  bloom: {\n    kernelSize: 1,\n    luminanceThreshold: 0.1,\n    luminanceSmoothing: 0.05,\n    intensity: 0.1\n  },\n  glitch: {\n    delay: [20, 30],\n    duration: [0.3, 0.5],\n    strength: [0.1, 0.3]\n  },\n  lights: {\n    front: {\n      color: 'ciano'\n    },\n    left: {\n      color: 'white'\n    },\n    right: {\n      color: 'magenta'\n    }\n  }\n}\n\nconst brandPalette = {\n  ciano: '#01ffff',\n  magenta: '#e6007a',\n  white: '#ffffff',\n  black: '#000000'\n}\n\nexport { brandPalette, canaryConfig }\n","function assetURL(path) {\n  console.info(process.env.PUBLIC_URL)\n  const publicUrl = new URL(process.env.PUBLIC_URL || 'https://mememine.io')\n\n  const isDevelopment = process.env.NODE_ENV === 'development'\n  const isRoot = publicUrl.pathname === '/' || publicUrl.pathname === ''\n\n  const assetPrefix = isDevelopment || isRoot ? '' : process.env.PUBLIC_URL\n\n  return `${assetPrefix}/assets/${path}`\n}\n\nexport { assetURL }\n","import { useGLTF } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef, useEffect, useLayoutEffect } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette, canaryConfig } from '../config'\nimport { assetURL } from '../helpers/url'\n\nconst Canary = React.forwardRef((props, playerRef) => {\n  const initialPosition = props.position ? props.position : [0, 0, 0]\n\n  const [position, setPosition] = useState(initialPosition)\n  const [isJumping, setIsJumping] = useState(false)\n\n  let animation = props.animation\n  let speed = props.speed\n  let reversed = props.reversed\n\n  if (props.animation === 'dead') {\n    animation = 'idle'\n    speed = 0\n    reversed = true\n  }\n\n  const glb = canaryConfig.objectUrl[animation]\n  const { scene, nodes, materials, animations } = useGLTF(assetURL(glb))\n\n  const animationRef = useRef()\n  const meshRef = useRef()\n\n  useEffect(() => {\n    if (meshRef.current && reversed) {\n      meshRef.current.rotation.x = Math.PI / 0.85\n    }\n  }, [])\n\n  useEffect(() => {\n    if (playerRef.current) {\n      animationRef.current = new THREE.AnimationMixer(playerRef.current)\n    }\n  }, [playerRef])\n\n  useEffect(() => {\n    if (animationRef.current && animations) {\n      animations.forEach(clip => {\n        const action = animationRef.current.clipAction(clip)\n        action.timeScale = speed\n        action.play()\n      })\n    }\n\n    return () => {\n      if (animationRef.current) {\n        animationRef.current.stopAllAction()\n      }\n    }\n  }, [animations])\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'ArrowRight') {\n        setPosition(prevPosition => {\n          if (prevPosition[0] !== -1) return [prevPosition[0] - 1, prevPosition[1], prevPosition[2]]\n          else return prevPosition\n        })\n      } else if (event.key === 'ArrowLeft') {\n        setPosition(prevPosition => {\n          if (prevPosition[0] !== 1) return [prevPosition[0] + 1, prevPosition[1], prevPosition[2]]\n          else return prevPosition\n        })\n      }\n      if (event.key === 'ArrowUp' && !isJumping && position[1] === 0) {\n        setIsJumping(true)\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [position])\n\n  useFrame((_, delta) => {\n    if (animationRef.current) {\n      animationRef.current.update(delta)\n    }\n\n    if (isJumping) {\n      // Simple jump animation: move up then down\n      setPosition(prevPosition => {\n        const newY = prevPosition[1] + delta * 10\n        // Check if the model has reached the peak of the jump\n        if (newY >= 2) {\n          setIsJumping(false) // Start falling\n        }\n        return [prevPosition[0], newY <= 0 ? 0 : newY, prevPosition[2]] // Reset Y position after jump\n      })\n    } else {\n      // Bring the model back down if it's in the air\n      setPosition(prevPosition => [prevPosition[0], Math.max(0, prevPosition[1] - delta * 10), prevPosition[2]])\n    }\n  })\n\n  useLayoutEffect(() => {\n    if (props.meshScale) {\n      if (nodes.canary) {\n        nodes.canary.scale.set(4, 4, 4)\n      }\n    }\n\n    scene.traverse(obj => {\n      obj.type === 'Mesh' && (obj.receiveShadow = obj.castShadow = true)\n    })\n\n    Object.assign(materials[props.model.material], {\n      wireframe: false,\n      metalness: props.model.metalness,\n      roughness: props.model.moughness,\n      opacity: props.model.opacity,\n      color: new THREE.Color(brandPalette[props.model.color])\n    })\n  }, [scene, nodes, materials])\n\n  return (\n    <mesh position={position} ref={meshRef}>\n      <primitive ref={playerRef} object={scene} {...props} />\n    </mesh>\n  )\n})\n\nexport { Canary }\n","/* eslint-disable react/no-unknown-property */\n/* eslint-disable react/prop-types */\nimport { useHelper } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useRef } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette } from '../config'\n\nconst Lights = ({ config }) => {\n  const groupL = useRef()\n  const groupR = useRef()\n  const front = useRef()\n  const lightL = useRef()\n  const lightR = useRef()\n  const lightF = useRef()\n\n  useFrame(state => {\n    const t = state.clock.getElapsedTime()\n\n    // storm effect\n    let currentPosition = 15\n    if (parseInt(t) % 4 === 1) {\n      currentPosition = (Math.random() * 15) | 0\n    }\n\n    groupL.current.position.x = (Math.sin(t) / 4) * currentPosition\n    groupL.current.position.y = (Math.cos(t) / 4) * currentPosition\n    groupL.current.position.z = (Math.cos(t) / 4) * currentPosition\n\n    groupR.current.position.x = (Math.cos(t) / 4) * 10\n    groupR.current.position.y = (Math.sin(t) / 4) * 10\n    groupR.current.position.z = (Math.sin(t) / 4) * 10\n\n    front.current.position.x = (Math.sin(t) / 4) * 10\n    front.current.position.y = (Math.cos(t) / 4) * 10\n    front.current.position.z = (Math.sin(t) / 4) * 10\n  })\n\n  if (config.debug === true) {\n    useHelper(lightL, THREE.PointLightHelper)\n    useHelper(lightR, THREE.PointLightHelper)\n    useHelper(lightF, THREE.PointLightHelper)\n  }\n\n  return (\n    <>\n      <group ref={groupL}>\n        <pointLight\n          ref={lightL}\n          color={brandPalette[config.pointLight.color[0]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[0]}\n        />\n      </group>\n      <group ref={groupR}>\n        <pointLight\n          ref={lightR}\n          color={brandPalette[config.pointLight.color[1]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[1]}\n        />\n      </group>\n      <group ref={front}>\n        <pointLight\n          ref={lightF}\n          color={brandPalette[config.pointLight.color[2]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[2]}\n        />\n      </group>\n    </>\n  )\n}\n\nexport { Lights }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useRef, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { canaryConfig as config } from '../config'\n\nconst GameOverScreen = () => {\n  const playerRef = useRef()\n\n  return (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [3, 1, 0], fov: 50 }} performance={{ min: 0.1 }}>\n        <Lights config={config} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"dead\"\n            position={[0, 0.2, 0]}\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <OverlayContainer>\n          <Title>GAME OVER</Title>\n          <Subtitle>press enter to restart</Subtitle>\n        </OverlayContainer>,\n        document.body\n      )}\n    </>\n  )\n}\n\nconst blinkAnimation = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`\n\nconst OverlayContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Title = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nconst Subtitle = styled.h2`\n  color: #fff;\n  margin-top: 125px;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  animation: ${blinkAnimation} 1500ms linear infinite;\n`\n\nexport { GameOverScreen }\n","import { useThree, useFrame } from '@react-three/fiber'\nimport { useState, useEffect } from 'react'\nimport * as THREE from 'three'\n\nfunction CameraController() {\n  const { camera, set } = useThree()\n  const [is2D, setIs2D] = useState(false)\n  const perspCamera = new THREE.PerspectiveCamera(50, 16 / 9, 0.1, 1000)\n\n  useEffect(() => {\n    const toggleCamera = event => {\n      if (event.code === 'Space') {\n        setIs2D(!is2D)\n      }\n    }\n\n    window.addEventListener('keydown', toggleCamera)\n\n    return () => {\n      window.removeEventListener('keydown', toggleCamera)\n    }\n  }, [is2D])\n\n  useEffect(() => {\n    if (is2D) {\n      perspCamera.position.set(-20, 0, 0)\n      perspCamera.lookAt(20, 0, 0)\n      set({ camera: perspCamera })\n    } else {\n      perspCamera.position.set(0, 0.8, -3)\n      perspCamera.lookAt(0, 0, 0)\n      set({ camera: perspCamera })\n    }\n  }, [is2D])\n\n  useFrame(() => {\n    camera.lookAt(-100, 200, 500)\n    camera.updateProjectionMatrix()\n  })\n\n  return null\n}\n\nexport { CameraController }\n","import { useFrame } from '@react-three/fiber'\nimport React, { useEffect, useState, useRef } from 'react'\nimport * as THREE from 'three'\nimport { Box3, VideoTexture } from 'three'\nimport { useBoundingBox } from '../components/BoundingBox'\n\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min\n\nconst Obstacle = React.forwardRef(({ positionZ, side, video }, ref) => {\n  const videoRef = useRef()\n  const texture = useRef()\n\n  useEffect(() => {\n    video.play()\n    videoRef.current = video\n    texture.current = new VideoTexture(video)\n  }, [])\n\n  useFrame(() => {\n    if (texture.current) {\n      texture.current.needsUpdate = true\n    }\n  })\n\n  return (\n    <mesh position={[side, 0, positionZ]} rotation={[0, 0, 0]} ref={ref}>\n      <planeGeometry args={[1.2, 1.2]} />\n      <meshBasicMaterial map={texture.current} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Obstacles = React.forwardRef(({ videos }, playerRef) => {\n  const [obstacles, setObstacles] = useState([])\n  const obstacleRefs = []\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleObstacles = 8\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  const playerBox = useBoundingBox(playerRef)\n\n  useFrame(() => {\n    let collisionDetected = false\n    obstacleRefs.forEach(ref => {\n      if (playerRef && ref) {\n        const obstacleBox = new Box3().setFromObject(ref.current)\n        if (playerBox && obstacleBox) {\n          if (playerBox.intersectsBox(obstacleBox)) {\n            collisionDetected = true\n          }\n        }\n      }\n      if (collisionDetected) {\n        console.log('Collision Detected')\n      }\n    })\n  })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setObstacles(prevObstacles => prevObstacles.map(segment => ({ z: segment.z - 1, side: segment.side })))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      if (obstacles.length < visibleObstacles || gamePosition % visibleObstacles > lastSegmentZ) {\n        const segmentGap = random(10, 50)\n        const Obstacleside = Math.floor(Math.random() * 3) - 1\n        const newSegmentZ = { z: lastSegmentZ + segmentGap, side: Obstacleside }\n        setObstacles(prevObstacles => [...prevObstacles, newSegmentZ])\n      }\n\n      if (obstacles.length > visibleObstacles) {\n        setObstacles(prevObstacles => prevObstacles.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {obstacles.map(({ z, side }, index) => {\n        const obstacleRef = index === obstacles.length - 1 ? lastSegmentRef : undefined\n        obstacleRefs.push(obstacleRef)\n        return (\n          <Obstacle\n            key={index}\n            positionZ={z}\n            side={side}\n            playerRef={playerRef}\n            ref={obstacleRef}\n            video={videos[Math.floor(Math.random() * videos.length)]}\n          />\n        )\n      })}\n    </>\n  )\n})\n\nexport { Obstacles }\n","import { useState, useEffect } from 'react'\nimport { Box3 } from 'three'\n\nconst useBoundingBox = ref => {\n  const [box, setBox] = useState(null)\n\n  useEffect(() => {\n    if (ref.current) {\n      const newBox = new Box3().setFromObject(ref.current)\n      setBox(newBox)\n    }\n  }, [ref, ref.current])\n\n  return box\n}\n\nexport { useBoundingBox }\n","import { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef } from 'react'\nimport * as THREE from 'three'\n\nconst SideSegment = React.forwardRef(({ positionZ, side }, ref) => {\n  const positionX = side === 'left' ? -1.5 : 1.5\n\n  return (\n    <mesh position={[positionX, 0, positionZ]} rotation={[Math.PI / 2, 0, 0]} ref={ref}>\n      <planeGeometry args={[0.1, 1000]} />\n      <meshBasicMaterial color={0xffffff} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst PathSegment = React.forwardRef(({ positionZ }, ref) => {\n  return (\n    <mesh position={[0, -0.52, positionZ]} rotation={[Math.PI / 2, 0, 0]} ref={ref}>\n      <planeGeometry args={[0.1, 5]} />\n      <meshBasicMaterial color={0xffffff} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Path = React.forwardRef((_, playerRef) => {\n  const [segments, setSegments] = useState([])\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleSegments = 5\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setSegments(prevSegments => prevSegments.map(segment => segment - 1))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      // Generate new segments if needed\n      if (segments.length < visibleSegments || gamePosition % visibleSegments > lastSegmentZ) {\n        const segmentGap = 20\n        const newSegmentZ = lastSegmentZ + segmentGap\n        setSegments(prevSegments => [...prevSegments, newSegmentZ])\n      }\n\n      // Remove segments that are far behind the player\n      if (segments.length > visibleSegments) {\n        setSegments(prevSegments => prevSegments.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {segments.map((z, index) => (\n        <>\n          <PathSegment key={index} positionZ={z} ref={index === segments.length - 1 ? lastSegmentRef : undefined} />\n          <SideSegment positionZ={z} side=\"left\" />\n          <SideSegment positionZ={z} side=\"right\" />\n        </>\n      ))}\n    </>\n  )\n})\n\nexport { Path }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useEffect, useRef, useState, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled from 'styled-components'\nimport { GameOverScreen } from './GameOverScreen'\nimport { CameraController } from '../components/CameraController'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { Obstacles } from '../components/Obstacle'\nimport { Path } from '../components/Path'\nimport { usePreloadedVideos } from '../components/Videos'\nimport { canaryConfig as config } from '../config'\n\nconst Game = () => {\n  const [showGameOverScreen, setShowGameOverScreen] = useState(true)\n  const [score, setScore] = useState(0)\n  const startTimeRef = useRef(performance.now())\n  const playerRef = useRef()\n  const videoURLs = ['cat1.mp4', 'cat2.mp4', 'cat3.mp4']\n  const videos = usePreloadedVideos(videoURLs)\n\n  useEffect(() => {\n    if (showGameOverScreen) {\n      const handleKeyPress = event => {\n        if (event.key === 'Enter') {\n          setShowGameOverScreen(false)\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyPress)\n\n      return () => {\n        document.removeEventListener('keydown', handleKeyPress)\n      }\n    }\n  })\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setScore(parseInt((performance.now() - startTimeRef.current) / 100))\n    }, 10)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  if (videos.length !== videoURLs.length) {\n    return <div>Loading Videos...</div>\n  }\n\n  return !showGameOverScreen ? (\n    <GameOverScreen />\n  ) : (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: config.cameraPosition, fov: 50 }} performance={{ min: 0.1 }}>\n        <CameraController />\n\n        <Lights config={config} />\n\n        <Path ref={playerRef} />\n\n        <Obstacles videos={videos} ref={playerRef} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"walk\"\n            speed=\"3\"\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <ScoreContainer>\n          <Score>Score: {score}</Score>\n        </ScoreContainer>,\n        document.body\n      )}\n    </>\n  )\n}\n\nconst ScoreContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Score = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nexport { Game }\n","import { useEffect, useState } from 'react'\nimport { assetURL } from '../helpers/url'\n\nfunction usePreloadedVideos(videoURLs) {\n  const [videos, setVideos] = useState([])\n\n  useEffect(() => {\n    const videoElements = videoURLs.map(url => ({\n      src: assetURL(url),\n      videoElement: null,\n      loaded: false\n    }))\n\n    videoElements.forEach(videoObj => {\n      const videoElement = document.createElement('video')\n      videoElement.src = videoObj.src\n      videoElement.preload = 'auto'\n      videoElement.muted = true\n      videoElement.loop = true\n      videoElement.playbackRate = 1.0\n      videoElement.setAttribute('playsinline', '')\n\n      const onCanPlayThrough = () => {\n        videoObj.videoElement = videoElement\n        videoObj.loaded = true\n\n        const allVideosLoaded = videoElements.every(v => v.loaded)\n        if (allVideosLoaded) {\n          setVideos(videoElements.map(v => v.videoElement))\n        }\n      }\n\n      videoElement.addEventListener('canplaythrough', onCanPlayThrough)\n      videoElement.load()\n\n      return () => {\n        videoElement.removeEventListener('canplaythrough', onCanPlayThrough)\n      }\n    })\n  }, [videoURLs])\n\n  return videos\n}\n\nexport { usePreloadedVideos }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useState, useEffect, useRef, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\nimport { Game } from './Game'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { canaryConfig as config } from '../config'\n\nconst StartScreen = () => {\n  const [showStartScreen, setShowStartScreen] = useState(true)\n\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (event.key === 'Enter') {\n        setShowStartScreen(false)\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyPress)\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress)\n    }\n  }, [])\n\n  const playerRef = useRef()\n\n  return showStartScreen ? (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [3, 1, 3], fov: 50 }} performance={{ min: 0.1 }}>\n        <Lights config={config} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"idle\"\n            speed=\"1\"\n            position={[0, 0.2, 0]}\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <OverlayContainer>\n          <Title>canary in a meme mine</Title>\n          <Subtitle>press enter to start</Subtitle>\n        </OverlayContainer>,\n        document.body\n      )}\n    </>\n  ) : (\n    <Game />\n  )\n}\n\nconst blinkAnimation = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`\n\nconst OverlayContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Title = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nconst Subtitle = styled.h2`\n  color: #fff;\n  margin-top: 125px;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  animation: ${blinkAnimation} 1500ms linear infinite;\n`\n\nexport { StartScreen }\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { StartScreen } from './lib/StartScreen'\n\nimport './styles.css'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <div\n          className={'App'}\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            height: '100%'\n          }}\n        >\n          <StartScreen />\n        </div>\n      </>\n    )\n  }\n}\n\nconst rootElement = document.getElementById('root')\nconst root = createRoot(rootElement)\nroot.render(<App />)\n"],"sourceRoot":""}