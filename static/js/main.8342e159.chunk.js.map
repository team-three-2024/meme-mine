{"version":3,"sources":["config.js","helpers/url.js","components/Canary.js","components/Lights.js","lib/GameOverScreen.js","components/CameraController.js","components/Obstacle.js","components/Path.js","lib/Game.js","lib/StartScreen.js","index.js"],"names":["canaryConfig","objectUrl","hop","idle","walk","nodeCoords","nodeSigns","nodeScale","nodeGroupScale","meshColorIndex","meshScale","debug","model","material","scale","metalness","roughness","opacity","color","gridPosition","cameraPosition","pointColorIndex","primary","hovered","active","pointLight","position","intensity","distance","bloom","kernelSize","luminanceThreshold","luminanceSmoothing","glitch","delay","duration","strength","lights","front","left","right","brandPalette","ciano","magenta","white","black","assetURL","path","concat","process","Canary","React","forwardRef","props","playerRef","initialPosition","_useState","useState","_useState2","Object","slicedToArray","setPosition","_useState3","_useState4","isJumping","setIsJumping","animation","speed","reversed","glb","_useGLTF","useGLTF","scene","nodes","materials","animations","animationRef","useRef","meshRef","useEffect","current","rotation","x","Math","PI","THREE","forEach","clip","action","clipAction","timeScale","play","stopAllAction","handleKeyDown","event","key","prevPosition","window","addEventListener","removeEventListener","useFrame","_","delta","update","newY","max","useLayoutEffect","canary","set","traverse","obj","type","receiveShadow","castShadow","assign","wireframe","moughness","react_default","a","createElement","ref","object","Lights","_ref","config","groupL","groupR","lightL","lightR","lightF","state","t","clock","getElapsedTime","currentPosition","parseInt","random","sin","y","cos","z","useHelper","Fragment","GameOverScreen","react_three_fiber_esm","shadows","dpr","camera","fov","performance","min","Lights_Lights","react","fallback","dist","multisampling","OrbitControls","minPolarAngle","maxPolarAngle","ReactDOM","createPortal","OverlayContainer","Title","Subtitle","document","body","blinkAnimation","keyframes","_templateObject","taggedTemplateLiteral","styled","div","_templateObject2","h1","_templateObject3","h2","_templateObject4","CameraController","_useThree","useThree","is2D","setIs2D","perspCamera","toggleCamera","code","lookAt","updateProjectionMatrix","ObstacleSegment","positionZ","side","texture","useLoader","TextureLoader","args","map","Obstacle","obstacles","setObstacles","gamePosition","setGamePosition","lastSegmentRef","clockRef","elapsedTime","prevObstacles","segment","lastSegmentZ","length","newSegmentZ","floor","toConsumableArray","slice","_ref2","index","undefined","SideSegment","positionX","PathSegment","Path","segments","setSegments","prevSegments","Game","showGameOverScreen","setShowGameOverScreen","score","setScore","startTimeRef","now","handleKeyPress","interval","setInterval","clearInterval","ScoreContainer","Score","GameOverScreen_GameOverScreen","Game_templateObject","Game_templateObject2","StartScreen","showStartScreen","setShowStartScreen","StartScreen_OverlayContainer","StartScreen_Title","StartScreen_Subtitle","Game_Game","StartScreen_templateObject","StartScreen_templateObject2","StartScreen_templateObject3","StartScreen_templateObject4","App","className","style","display","flexDirection","alignItems","height","StartScreen_StartScreen","Component","rootElement","getElementById","createRoot","render","src_App"],"mappings":"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","file":"static/js/main.8342e159.chunk.js","sourcesContent":["const canaryConfig = {\n  objectUrl: {\n    hop: 'canary_hop.glb',\n    idle: 'canary_idle.glb',\n    walk: 'canary_walk.glb'\n  },\n  nodeCoords: 'canary.geometry.attributes.position',\n  nodeSigns: [1, -1, -1],\n  nodeScale: 2.5,\n  nodeGroupScale: 0.02,\n  meshColorIndex: 'ciano',\n  meshScale: 1,\n  debug: false,\n  model: {\n    material: 'Default_OBJ',\n    scale: 0.02,\n    metalness: 0.2,\n    roughness: 2,\n    opacity: 1,\n    color: 'white'\n  },\n  gridPosition: [0, -0.52, 0.28],\n  cameraPosition: [-20, 0, 0],\n  pointColorIndex: {\n    primary: 'ciano',\n    hovered: 'magenta',\n    active: 'magenta'\n  },\n  pointLight: {\n    position: [0, 0, 0],\n    intensity: [2, 2, 2],\n    distance: 15,\n    color: ['ciano', 'magenta', 'magenta']\n  },\n  bloom: {\n    kernelSize: 1,\n    luminanceThreshold: 0.1,\n    luminanceSmoothing: 0.05,\n    intensity: 0.1\n  },\n  glitch: {\n    delay: [20, 30],\n    duration: [0.3, 0.5],\n    strength: [0.1, 0.3]\n  },\n  lights: {\n    front: {\n      color: 'ciano'\n    },\n    left: {\n      color: 'white'\n    },\n    right: {\n      color: 'magenta'\n    }\n  }\n}\n\nconst brandPalette = {\n  ciano: '#01ffff',\n  magenta: '#e6007a',\n  white: '#ffffff',\n  black: '#000000'\n}\n\nexport { brandPalette, canaryConfig }\n","function assetURL(path) {\n  const isDevelopment = process.env.NODE_ENV === 'development'\n  const assetPrefix = isDevelopment ? '' : process.env.PUBLIC_URL\n\n  return `${assetPrefix}/assets/${path}`\n}\n\nexport { assetURL }\n","import { useGLTF } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef, useEffect, useLayoutEffect } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette, canaryConfig } from '../config'\nimport { assetURL } from '../helpers/url'\n\nconst Canary = React.forwardRef((props, playerRef) => {\n  const initialPosition = props.position ? props.position : [0, 0, 0]\n\n  const [position, setPosition] = useState(initialPosition)\n  const [isJumping, setIsJumping] = useState(false)\n\n  let animation = props.animation\n  let speed = props.speed\n  let reversed = props.reversed\n\n  if (props.animation === 'dead') {\n    animation = 'idle'\n    speed = 0\n    reversed = true\n  }\n\n  const glb = canaryConfig.objectUrl[animation]\n  const { scene, nodes, materials, animations } = useGLTF(assetURL(glb))\n\n  const animationRef = useRef()\n  const meshRef = useRef()\n\n  useEffect(() => {\n    if (meshRef.current && reversed) {\n      meshRef.current.rotation.x = Math.PI / 0.85\n    }\n  }, [])\n\n  useEffect(() => {\n    if (playerRef.current) {\n      animationRef.current = new THREE.AnimationMixer(playerRef.current)\n    }\n  }, [playerRef])\n\n  useEffect(() => {\n    if (animationRef.current && animations) {\n      animations.forEach(clip => {\n        const action = animationRef.current.clipAction(clip)\n        action.timeScale = speed\n        action.play()\n      })\n    }\n\n    return () => {\n      if (animationRef.current) {\n        animationRef.current.stopAllAction()\n      }\n    }\n  }, [animations])\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'ArrowRight') {\n        setPosition(prevPosition => {\n          if (prevPosition[0] !== -1) return [prevPosition[0] - 1, prevPosition[1], prevPosition[2]]\n          else return prevPosition\n        })\n      } else if (event.key === 'ArrowLeft') {\n        setPosition(prevPosition => {\n          if (prevPosition[0] !== 1) return [prevPosition[0] + 1, prevPosition[1], prevPosition[2]]\n          else return prevPosition\n        })\n      }\n      if (event.key === 'ArrowUp' && !isJumping && position[1] === 0) {\n        setIsJumping(true)\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [position])\n\n  useFrame((_, delta) => {\n    if (animationRef.current) {\n      animationRef.current.update(delta)\n    }\n\n    if (isJumping) {\n      // Simple jump animation: move up then down\n      setPosition(prevPosition => {\n        const newY = prevPosition[1] + delta * 10\n        // Check if the model has reached the peak of the jump\n        if (newY >= 2) {\n          setIsJumping(false) // Start falling\n        }\n        return [prevPosition[0], newY <= 0 ? 0 : newY, prevPosition[2]] // Reset Y position after jump\n      })\n    } else {\n      // Bring the model back down if it's in the air\n      setPosition(prevPosition => [prevPosition[0], Math.max(0, prevPosition[1] - delta * 10), prevPosition[2]])\n    }\n  })\n\n  useLayoutEffect(() => {\n    if (props.meshScale) {\n      if (nodes.canary) {\n        nodes.canary.scale.set(4, 4, 4)\n      }\n    }\n\n    scene.traverse(obj => {\n      obj.type === 'Mesh' && (obj.receiveShadow = obj.castShadow = true)\n    })\n\n    Object.assign(materials[props.model.material], {\n      wireframe: false,\n      metalness: props.model.metalness,\n      roughness: props.model.moughness,\n      opacity: props.model.opacity,\n      color: new THREE.Color(brandPalette[props.model.color])\n    })\n  }, [scene, nodes, materials])\n\n  return (\n    <mesh position={position} ref={meshRef}>\n      <primitive ref={playerRef} object={scene} {...props} />\n    </mesh>\n  )\n})\n\nexport { Canary }\n","/* eslint-disable react/no-unknown-property */\n/* eslint-disable react/prop-types */\nimport { useHelper } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useRef } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette } from '../config'\n\nconst Lights = ({ config }) => {\n  const groupL = useRef()\n  const groupR = useRef()\n  const front = useRef()\n  const lightL = useRef()\n  const lightR = useRef()\n  const lightF = useRef()\n\n  useFrame(state => {\n    const t = state.clock.getElapsedTime()\n\n    // storm effect\n    let currentPosition = 15\n    if (parseInt(t) % 4 === 1) {\n      currentPosition = (Math.random() * 15) | 0\n    }\n\n    groupL.current.position.x = (Math.sin(t) / 4) * currentPosition\n    groupL.current.position.y = (Math.cos(t) / 4) * currentPosition\n    groupL.current.position.z = (Math.cos(t) / 4) * currentPosition\n\n    groupR.current.position.x = (Math.cos(t) / 4) * 10\n    groupR.current.position.y = (Math.sin(t) / 4) * 10\n    groupR.current.position.z = (Math.sin(t) / 4) * 10\n\n    front.current.position.x = (Math.sin(t) / 4) * 10\n    front.current.position.y = (Math.cos(t) / 4) * 10\n    front.current.position.z = (Math.sin(t) / 4) * 10\n  })\n\n  if (config.debug === true) {\n    useHelper(lightL, THREE.PointLightHelper)\n    useHelper(lightR, THREE.PointLightHelper)\n    useHelper(lightF, THREE.PointLightHelper)\n  }\n\n  return (\n    <>\n      <group ref={groupL}>\n        <pointLight\n          ref={lightL}\n          color={brandPalette[config.pointLight.color[0]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[0]}\n        />\n      </group>\n      <group ref={groupR}>\n        <pointLight\n          ref={lightR}\n          color={brandPalette[config.pointLight.color[1]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[1]}\n        />\n      </group>\n      <group ref={front}>\n        <pointLight\n          ref={lightF}\n          color={brandPalette[config.pointLight.color[2]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[2]}\n        />\n      </group>\n    </>\n  )\n}\n\nexport { Lights }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useRef, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { canaryConfig as config } from '../config'\n\nconst GameOverScreen = () => {\n  const playerRef = useRef()\n\n  return (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [3, 1, 0], fov: 50 }} performance={{ min: 0.1 }}>\n        <Lights config={config} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"dead\"\n            position={[0, 0.2, 0]}\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <OverlayContainer>\n          <Title>GAME OVER</Title>\n          <Subtitle>press enter to restart</Subtitle>\n        </OverlayContainer>,\n        document.body\n      )}\n    </>\n  )\n}\n\nconst blinkAnimation = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`\n\nconst OverlayContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Title = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nconst Subtitle = styled.h2`\n  color: #fff;\n  margin-top: 125px;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  animation: ${blinkAnimation} 1500ms linear infinite;\n`\n\nexport { GameOverScreen }\n","import { useThree, useFrame } from '@react-three/fiber'\nimport { useState, useEffect } from 'react'\nimport * as THREE from 'three'\n\nfunction CameraController() {\n  const { camera, set } = useThree()\n  const [is2D, setIs2D] = useState(false)\n  const perspCamera = new THREE.PerspectiveCamera(50, 16 / 9, 0.1, 1000)\n\n  useEffect(() => {\n    const toggleCamera = event => {\n      if (event.code === 'Space') {\n        setIs2D(!is2D)\n      }\n    }\n\n    window.addEventListener('keydown', toggleCamera)\n\n    return () => {\n      window.removeEventListener('keydown', toggleCamera)\n    }\n  }, [is2D])\n\n  useEffect(() => {\n    if (is2D) {\n      perspCamera.position.set(-20, 0, 0)\n      perspCamera.lookAt(20, 0, 0)\n      set({ camera: perspCamera })\n    } else {\n      perspCamera.position.set(0, 0.8, -3)\n      perspCamera.lookAt(0, 0, 0)\n      set({ camera: perspCamera })\n    }\n  }, [is2D])\n\n  useFrame(() => {\n    camera.lookAt(-100, 200, 500)\n    camera.updateProjectionMatrix()\n  })\n\n  return null\n}\n\nexport { CameraController }\n","import { useLoader, useFrame } from '@react-three/fiber'\nimport React, { useState, useRef } from 'react'\nimport * as THREE from 'three'\nimport { TextureLoader } from 'three'\nimport { assetURL } from '../helpers/url'\n\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min\n\nconst ObstacleSegment = React.forwardRef(({ positionZ, side }, ref) => {\n  const texture = useLoader(TextureLoader, assetURL('sbf.jpeg'))\n\n  return (\n    <mesh position={[side, 0, positionZ]} rotation={[0, 0, 0]} ref={ref}>\n      <planeGeometry args={[1.2, 1.2]} />\n      <meshBasicMaterial map={texture} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Obstacle = React.forwardRef((_, playerRef) => {\n  const [obstacles, setObstacles] = useState([])\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleObstacles = 5\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setObstacles(prevObstacles => prevObstacles.map(segment => ({ z: segment.z - 1, side: segment.side })))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      if (obstacles.length < visibleObstacles || gamePosition % visibleObstacles > lastSegmentZ) {\n        const segmentGap = random(10, 50)\n        const Obstacleside = Math.floor(Math.random() * 3) - 1\n        const newSegmentZ = { z: lastSegmentZ + segmentGap, side: Obstacleside }\n        setObstacles(prevObstacles => [...prevObstacles, newSegmentZ])\n      }\n\n      if (obstacles.length > visibleObstacles) {\n        setObstacles(prevObstacles => prevObstacles.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {obstacles.map(({ z, side }, index) => (\n        <ObstacleSegment\n          key={index}\n          positionZ={z}\n          side={side}\n          ref={index === obstacles.length - 1 ? lastSegmentRef : undefined}\n        />\n      ))}\n    </>\n  )\n})\n\nexport { Obstacle }\n","import { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef } from 'react'\nimport * as THREE from 'three'\n\nconst SideSegment = React.forwardRef(({ positionZ, side }, ref) => {\n  const positionX = side === 'left' ? -1.5 : 1.5\n\n  return (\n    <mesh position={[positionX, 0, positionZ]} rotation={[Math.PI / 2, 0, 0]} ref={ref}>\n      <planeGeometry args={[0.1, 1000]} />\n      <meshBasicMaterial color={0xffffff} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst PathSegment = React.forwardRef(({ positionZ }, ref) => {\n  return (\n    <mesh position={[0, -0.52, positionZ]} rotation={[Math.PI / 2, 0, 0]} ref={ref}>\n      <planeGeometry args={[0.1, 5]} />\n      <meshBasicMaterial color={0xffffff} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Path = React.forwardRef((_, playerRef) => {\n  const [segments, setSegments] = useState([])\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleSegments = 5\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setSegments(prevSegments => prevSegments.map(segment => segment - 1))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      // Generate new segments if needed\n      if (segments.length < visibleSegments || gamePosition % visibleSegments > lastSegmentZ) {\n        const segmentGap = 20\n        const newSegmentZ = lastSegmentZ + segmentGap\n        setSegments(prevSegments => [...prevSegments, newSegmentZ])\n      }\n\n      // Remove segments that are far behind the player\n      if (segments.length > visibleSegments) {\n        setSegments(prevSegments => prevSegments.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {segments.map((z, index) => (\n        <>\n          <PathSegment key={index} positionZ={z} ref={index === segments.length - 1 ? lastSegmentRef : undefined} />\n          <SideSegment positionZ={z} side=\"left\" />\n          <SideSegment positionZ={z} side=\"right\" />\n        </>\n      ))}\n    </>\n  )\n})\n\nexport { Path }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useEffect, useRef, useState, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled from 'styled-components'\nimport { GameOverScreen } from './GameOverScreen'\nimport { CameraController } from '../components/CameraController'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { Obstacle } from '../components/Obstacle'\nimport { Path } from '../components/Path'\nimport { canaryConfig as config } from '../config'\n\nconst Game = () => {\n  const [showGameOverScreen, setShowGameOverScreen] = useState(true)\n  const [score, setScore] = useState(0)\n  const startTimeRef = useRef(performance.now())\n  const playerRef = useRef()\n\n  useEffect(() => {\n    if (showGameOverScreen) {\n      const handleKeyPress = event => {\n        if (event.key === 'Enter') {\n          setShowGameOverScreen(false)\n        }\n      }\n\n      document.addEventListener('keydown', handleKeyPress)\n\n      return () => {\n        document.removeEventListener('keydown', handleKeyPress)\n      }\n    }\n  })\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setScore(parseInt((performance.now() - startTimeRef.current) / 100))\n    }, 10)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  return !showGameOverScreen ? (\n    <GameOverScreen />\n  ) : (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: config.cameraPosition, fov: 50 }} performance={{ min: 0.1 }}>\n        <CameraController />\n\n        <Lights config={config} />\n\n        <Path ref={playerRef} />\n\n        <Obstacle ref={playerRef} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"walk\"\n            speed=\"3\"\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <ScoreContainer>\n          <Score>Score: {score}</Score>\n        </ScoreContainer>,\n        document.body\n      )}\n    </>\n  )\n}\n\nconst ScoreContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Score = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nexport { Game }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useState, useEffect, useRef, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\nimport { Game } from './Game'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { canaryConfig as config } from '../config'\n\nconst StartScreen = () => {\n  const [showStartScreen, setShowStartScreen] = useState(true)\n\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (event.key === 'Enter') {\n        setShowStartScreen(false)\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyPress)\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress)\n    }\n  }, [])\n\n  const playerRef = useRef()\n\n  return showStartScreen ? (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [3, 1, 3], fov: 50 }} performance={{ min: 0.1 }}>\n        <Lights config={config} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"idle\"\n            speed=\"1\"\n            position={[0, 0.2, 0]}\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <OverlayContainer>\n          <Title>canary in a meme mine</Title>\n          <Subtitle>press enter to start</Subtitle>\n        </OverlayContainer>,\n        document.body\n      )}\n    </>\n  ) : (\n    <Game />\n  )\n}\n\nconst blinkAnimation = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`\n\nconst OverlayContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Title = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nconst Subtitle = styled.h2`\n  color: #fff;\n  margin-top: 125px;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  animation: ${blinkAnimation} 1500ms linear infinite;\n`\n\nexport { StartScreen }\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { StartScreen } from './lib/StartScreen'\n\nimport './styles.css'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <div\n          className={'App'}\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            height: '100%'\n          }}\n        >\n          <StartScreen />\n        </div>\n      </>\n    )\n  }\n}\n\nconst rootElement = document.getElementById('root')\nconst root = createRoot(rootElement)\nroot.render(<App />)\n"],"sourceRoot":""}