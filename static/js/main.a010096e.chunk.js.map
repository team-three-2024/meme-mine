{"version":3,"sources":["components/CameraController.js","config.js","helpers/url.js","components/Canary.js","components/Lights.js","components/Obstacle.js","components/Path.js","lib/Game.js","lib/StartScreen.js","index.js"],"names":["CameraController","_useThree","useThree","camera","set","_useState","useState","_useState2","Object","slicedToArray","is2D","setIs2D","perspCamera","THREE","useEffect","toggleCamera","event","code","window","addEventListener","removeEventListener","position","lookAt","useFrame","updateProjectionMatrix","canaryConfig","objectUrl","hop","idle","walk","nodeCoords","nodeSigns","nodeScale","nodeGroupScale","meshColorIndex","meshScale","debug","model","material","scale","metalness","roughness","opacity","color","gridPosition","cameraPosition","pointColorIndex","primary","hovered","active","pointLight","intensity","distance","bloom","kernelSize","luminanceThreshold","luminanceSmoothing","glitch","delay","duration","strength","lights","front","left","right","brandPalette","ciano","magenta","white","black","assetURL","path","concat","process","Canary","React","forwardRef","props","ref","initialPosition","setPosition","_useState3","_useState4","isJumping","setIsJumping","glb","animation","_useGLTF","useGLTF","scene","nodes","materials","animations","mixerRef","useRef","current","forEach","clip","action","clipAction","timeScale","speed","play","stopAllAction","handleKeyDown","key","prevPosition","_","delta","update","newY","Math","max","useLayoutEffect","canary","traverse","obj","type","receiveShadow","castShadow","assign","wireframe","moughness","react_default","a","createElement","object","Lights","_ref","config","groupL","groupR","lightL","lightR","lightF","state","t","clock","getElapsedTime","currentPosition","parseInt","random","x","sin","y","cos","z","useHelper","Fragment","ObstacleSegment","positionZ","side","texture","useLoader","TextureLoader","rotation","args","map","Obstacle","playerRef","obstacles","setObstacles","gamePosition","setGamePosition","lastSegmentRef","clockRef","elapsedTime","min","prevObstacles","segment","lastSegmentZ","length","newSegmentZ","floor","toConsumableArray","slice","_ref2","index","undefined","PathSegment","PI","Path","segments","setSegments","prevSegments","Game","score","setScore","startTimeRef","performance","now","interval","setInterval","clearInterval","react_three_fiber_esm","shadows","dpr","fov","Lights_Lights","react","fallback","dist","multisampling","OrbitControls","minPolarAngle","maxPolarAngle","ReactDOM","createPortal","ScoreContainer","Score","document","body","styled","div","_templateObject","taggedTemplateLiteral","h1","_templateObject2","StartScreen","showStartScreen","setShowStartScreen","handleKeyPress","OverlayContainer","Title","Subtitle","Game_Game","blinkAnimation","keyframes","StartScreen_templateObject","StartScreen_templateObject2","_templateObject3","h2","_templateObject4","App","className","style","display","flexDirection","alignItems","height","StartScreen_StartScreen","Component","rootElement","getElementById","createRoot","render","src_App"],"mappings":"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","file":"static/js/main.a010096e.chunk.js","sourcesContent":["import { useThree, useFrame } from '@react-three/fiber'\nimport { useState, useEffect } from 'react'\nimport * as THREE from 'three'\n\nfunction CameraController() {\n  const { camera, set } = useThree()\n  const [is2D, setIs2D] = useState(false)\n  const perspCamera = new THREE.PerspectiveCamera(50, 16 / 9, 0.1, 1000)\n\n  useEffect(() => {\n    const toggleCamera = event => {\n      if (event.code === 'Space') {\n        setIs2D(!is2D)\n      }\n    }\n\n    window.addEventListener('keydown', toggleCamera)\n\n    return () => {\n      window.removeEventListener('keydown', toggleCamera)\n    }\n  }, [is2D])\n\n  useEffect(() => {\n    if (is2D) {\n      perspCamera.position.set(-20, 0, 0)\n      perspCamera.lookAt(20, 0, 0)\n      set({ camera: perspCamera })\n    } else {\n      perspCamera.position.set(0, 0.8, -3)\n      perspCamera.lookAt(0, 0, 0)\n      set({ camera: perspCamera })\n    }\n  }, [is2D])\n\n  useFrame(() => {\n    camera.lookAt(-100, 200, 500)\n    camera.updateProjectionMatrix()\n  })\n\n  return null\n}\n\nexport { CameraController }\n","const canaryConfig = {\n  objectUrl: {\n    hop: 'canary_hop.glb',\n    idle: 'canary_idle.glb',\n    walk: 'canary_walk.glb'\n  },\n  nodeCoords: 'canary.geometry.attributes.position',\n  nodeSigns: [1, -1, -1],\n  nodeScale: 2.5,\n  nodeGroupScale: 0.02,\n  meshColorIndex: 'ciano',\n  meshScale: 1,\n  debug: false,\n  model: {\n    material: 'Default_OBJ',\n    scale: 0.02,\n    metalness: 0.2,\n    roughness: 2,\n    opacity: 1,\n    color: 'white'\n  },\n  gridPosition: [0, -0.52, 0.28],\n  cameraPosition: [-20, 0, 0],\n  pointColorIndex: {\n    primary: 'ciano',\n    hovered: 'magenta',\n    active: 'magenta'\n  },\n  pointLight: {\n    position: [0, 0, 0],\n    intensity: [2, 2, 2],\n    distance: 15,\n    color: ['ciano', 'magenta', 'magenta']\n  },\n  bloom: {\n    kernelSize: 1,\n    luminanceThreshold: 0.1,\n    luminanceSmoothing: 0.05,\n    intensity: 0.1\n  },\n  glitch: {\n    delay: [20, 30],\n    duration: [0.3, 0.5],\n    strength: [0.1, 0.3]\n  },\n  lights: {\n    front: {\n      color: 'ciano'\n    },\n    left: {\n      color: 'white'\n    },\n    right: {\n      color: 'magenta'\n    }\n  }\n}\n\nconst brandPalette = {\n  ciano: '#01ffff',\n  magenta: '#e6007a',\n  white: '#ffffff',\n  black: '#000000'\n}\n\nexport { brandPalette, canaryConfig }\n","function assetURL(path) {\n  const isDevelopment = process.env.NODE_ENV === 'development'\n  const assetPrefix = isDevelopment ? '' : process.env.PUBLIC_URL\n\n  return `${assetPrefix}/assets/${path}`\n}\n\nexport { assetURL }\n","import { useGLTF } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef, useEffect, useLayoutEffect } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette, canaryConfig } from '../config'\nimport { assetURL } from '../helpers/url'\n\nconst Canary = React.forwardRef((props, ref) => {\n  const initialPosition = props.position ? props.position : [0, 0, 0]\n  const [position, setPosition] = useState(initialPosition)\n  const [isJumping, setIsJumping] = useState(false)\n\n  const glb = canaryConfig.objectUrl[props.animation]\n  const { scene, nodes, materials, animations } = useGLTF(assetURL(glb))\n\n  const mixerRef = useRef()\n\n  useEffect(() => {\n    if (ref.current) {\n      mixerRef.current = new THREE.AnimationMixer(ref.current)\n    }\n  }, [ref])\n\n  useEffect(() => {\n    if (mixerRef.current && animations) {\n      animations.forEach(clip => {\n        const action = mixerRef.current.clipAction(clip)\n        action.timeScale = props.speed\n        action.play()\n      })\n    }\n\n    return () => {\n      if (mixerRef.current) {\n        mixerRef.current.stopAllAction()\n      }\n    }\n  }, [animations])\n\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (event.key === 'ArrowRight') {\n        setPosition(prevPosition => [prevPosition[0] - 1, prevPosition[1], prevPosition[2]])\n      } else if (event.key === 'ArrowLeft') {\n        setPosition(prevPosition => [prevPosition[0] + 1, prevPosition[1], prevPosition[2]])\n      }\n      if (event.key === 'ArrowUp' && !isJumping && position[1] === 0) {\n        setIsJumping(true)\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown)\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [position])\n\n  useFrame((_, delta) => {\n    if (mixerRef.current) {\n      mixerRef.current.update(delta)\n    }\n\n    if (isJumping) {\n      // Simple jump animation: move up then down\n      setPosition(prevPosition => {\n        const newY = prevPosition[1] + delta * 10\n        // Check if the model has reached the peak of the jump\n        if (newY >= 2) {\n          setIsJumping(false) // Start falling\n        }\n        return [prevPosition[0], newY <= 0 ? 0 : newY, prevPosition[2]] // Reset Y position after jump\n      })\n    } else {\n      // Bring the model back down if it's in the air\n      setPosition(prevPosition => [prevPosition[0], Math.max(0, prevPosition[1] - delta * 10), prevPosition[2]])\n    }\n  })\n\n  useLayoutEffect(() => {\n    if (props.meshScale) {\n      if (nodes.canary) {\n        nodes.canary.scale.set(4, 4, 4)\n      }\n    }\n\n    scene.traverse(obj => {\n      obj.type === 'Mesh' && (obj.receiveShadow = obj.castShadow = true)\n    })\n\n    Object.assign(materials[props.model.material], {\n      wireframe: false,\n      metalness: props.model.metalness,\n      roughness: props.model.moughness,\n      opacity: props.model.opacity,\n      color: new THREE.Color(brandPalette[props.model.color])\n    })\n  }, [scene, nodes, materials])\n\n  return (\n    <mesh position={position}>\n      <primitive ref={ref} object={scene} {...props} />\n    </mesh>\n  )\n})\n\nexport { Canary }\n","/* eslint-disable react/no-unknown-property */\n/* eslint-disable react/prop-types */\nimport { useHelper } from '@react-three/drei'\nimport { useFrame } from '@react-three/fiber'\nimport React, { useRef } from 'react'\nimport * as THREE from 'three'\nimport { brandPalette } from '../config'\n\nconst Lights = ({ config }) => {\n  const groupL = useRef()\n  const groupR = useRef()\n  const front = useRef()\n  const lightL = useRef()\n  const lightR = useRef()\n  const lightF = useRef()\n\n  useFrame(state => {\n    const t = state.clock.getElapsedTime()\n\n    // storm effect\n    let currentPosition = 15\n    if (parseInt(t) % 4 === 1) {\n      currentPosition = (Math.random() * 15) | 0\n    }\n\n    groupL.current.position.x = (Math.sin(t) / 4) * currentPosition\n    groupL.current.position.y = (Math.cos(t) / 4) * currentPosition\n    groupL.current.position.z = (Math.cos(t) / 4) * currentPosition\n\n    groupR.current.position.x = (Math.cos(t) / 4) * 10\n    groupR.current.position.y = (Math.sin(t) / 4) * 10\n    groupR.current.position.z = (Math.sin(t) / 4) * 10\n\n    front.current.position.x = (Math.sin(t) / 4) * 10\n    front.current.position.y = (Math.cos(t) / 4) * 10\n    front.current.position.z = (Math.sin(t) / 4) * 10\n  })\n\n  if (config.debug === true) {\n    useHelper(lightL, THREE.PointLightHelper)\n    useHelper(lightR, THREE.PointLightHelper)\n    useHelper(lightF, THREE.PointLightHelper)\n  }\n\n  return (\n    <>\n      <group ref={groupL}>\n        <pointLight\n          ref={lightL}\n          color={brandPalette[config.pointLight.color[0]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[0]}\n        />\n      </group>\n      <group ref={groupR}>\n        <pointLight\n          ref={lightR}\n          color={brandPalette[config.pointLight.color[1]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[1]}\n        />\n      </group>\n      <group ref={front}>\n        <pointLight\n          ref={lightF}\n          color={brandPalette[config.pointLight.color[2]]}\n          position={config.pointLight.position}\n          distance={config.pointLight.distance}\n          intensity={config.pointLight.intensity[2]}\n        />\n      </group>\n    </>\n  )\n}\n\nexport { Lights }\n","import { useLoader, useFrame } from '@react-three/fiber'\nimport React, { useState, useRef } from 'react'\nimport * as THREE from 'three'\nimport { TextureLoader } from 'three'\nimport { assetURL } from '../helpers/url'\n\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min\n\nconst ObstacleSegment = React.forwardRef(({ positionZ, side }, ref) => {\n  const texture = useLoader(TextureLoader, assetURL('sbf.jpeg'))\n\n  return (\n    <mesh position={[side, 0, positionZ]} rotation={[0, 0, 0]} ref={ref}>\n      <planeGeometry args={[1.2, 1.2]} />\n      <meshBasicMaterial map={texture} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Obstacle = React.forwardRef((_, playerRef) => {\n  const [obstacles, setObstacles] = useState([])\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleObstacles = 5\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setObstacles(prevObstacles => prevObstacles.map(segment => ({ z: segment.z - 1, side: segment.side })))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      if (obstacles.length < visibleObstacles || gamePosition % visibleObstacles > lastSegmentZ) {\n        const segmentGap = random(10, 50)\n        const Obstacleside = Math.floor(Math.random() * 3) - 1\n        const newSegmentZ = { z: lastSegmentZ + segmentGap, side: Obstacleside }\n        setObstacles(prevObstacles => [...prevObstacles, newSegmentZ])\n      }\n\n      if (obstacles.length > visibleObstacles) {\n        setObstacles(prevObstacles => prevObstacles.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {obstacles.map(({ z, side }, index) => (\n        <ObstacleSegment\n          key={index}\n          positionZ={z}\n          side={side}\n          ref={index === obstacles.length - 1 ? lastSegmentRef : undefined}\n        />\n      ))}\n    </>\n  )\n})\n\nexport { Obstacle }\n","import { useFrame } from '@react-three/fiber'\nimport React, { useState, useRef } from 'react'\nimport * as THREE from 'three'\n\nconst PathSegment = React.forwardRef(({ positionZ }, ref) => {\n  return (\n    <mesh position={[0, -0.52, positionZ]} rotation={[Math.PI / 2, 0, 0]} ref={ref}>\n      <planeGeometry args={[0.1, 5]} />\n      <meshBasicMaterial color={0xffffff} side={THREE.DoubleSide} />\n    </mesh>\n  )\n})\n\nconst Path = React.forwardRef((_, playerRef) => {\n  const [segments, setSegments] = useState([])\n  const [gamePosition, setGamePosition] = useState(0)\n\n  const visibleSegments = 5\n  const lastSegmentRef = useRef()\n  const clockRef = useRef({ elapsedTime: 0, delta: 0 })\n\n  useFrame(state => {\n    const { clock } = state\n    clockRef.current.delta = clock.getElapsedTime() - clockRef.current.elapsedTime\n\n    if (playerRef.current) {\n      if (clockRef.current.delta >= 0.05) {\n        clockRef.current.elapsedTime = clock.getElapsedTime()\n        setGamePosition(gamePosition => gamePosition + 1)\n        setSegments(prevSegments => prevSegments.map(segment => segment - 1))\n      }\n\n      const lastSegmentZ = lastSegmentRef.current ? lastSegmentRef.current.position.z : 0\n\n      // Generate new segments if needed\n      if (segments.length < visibleSegments || gamePosition % visibleSegments > lastSegmentZ) {\n        const segmentGap = 20\n        const newSegmentZ = lastSegmentZ + segmentGap\n        setSegments(prevSegments => [...prevSegments, newSegmentZ])\n      }\n\n      // Remove segments that are far behind the player\n      if (segments.length > visibleSegments) {\n        setSegments(prevSegments => prevSegments.slice(1))\n      }\n    }\n  })\n\n  return (\n    <>\n      {segments.map((z, index) => (\n        <PathSegment key={index} positionZ={z} ref={index === segments.length - 1 ? lastSegmentRef : undefined} />\n      ))}\n    </>\n  )\n})\n\nexport { Path }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useEffect, useRef, useState, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled from 'styled-components'\nimport { CameraController } from '../components/CameraController'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { Obstacle } from '../components/Obstacle'\nimport { Path } from '../components/Path'\nimport { canaryConfig as config } from '../config'\n\nconst Game = () => {\n  const [score, setScore] = useState(0)\n  const startTimeRef = useRef(performance.now())\n  const playerRef = useRef()\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setScore(parseInt((performance.now() - startTimeRef.current) / 100))\n    }, 10)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  return (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: config.cameraPosition, fov: 50 }} performance={{ min: 0.1 }}>\n        <CameraController />\n\n        <Lights config={config} />\n\n        <Path ref={playerRef} />\n\n        <Obstacle ref={playerRef} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"walk\"\n            speed=\"3\"\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <ScoreContainer>\n          <Score>Score: {score}</Score>\n        </ScoreContainer>,\n        document.body\n      )}\n    </>\n  )\n}\n\nconst ScoreContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Score = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nexport { Game }\n","import { OrbitControls } from '@react-three/drei'\nimport { Canvas } from '@react-three/fiber'\nimport { EffectComposer, Bloom } from '@react-three/postprocessing'\nimport React, { useState, useEffect, useRef, Suspense } from 'react'\nimport ReactDOM from 'react-dom'\nimport styled, { keyframes } from 'styled-components'\nimport { Game } from './Game'\nimport { Canary } from '../components/Canary'\nimport { Lights } from '../components/Lights'\nimport { canaryConfig as config } from '../config'\n\nconst StartScreen = () => {\n  const [showStartScreen, setShowStartScreen] = useState(true)\n\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (event.key === 'Enter') {\n        setShowStartScreen(false)\n      }\n    }\n\n    document.addEventListener('keydown', handleKeyPress)\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyPress)\n    }\n  }, [])\n\n  const playerRef = useRef()\n\n  return showStartScreen ? (\n    <>\n      <Canvas shadows dpr={[1, 2]} camera={{ position: [3, 1, 3], fov: 50 }} performance={{ min: 0.1 }}>\n        <Lights config={config} />\n\n        <Suspense fallback={null}>\n          <Canary\n            animation=\"idle\"\n            speed=\"1\"\n            position={[0, 0.2, 0]}\n            scale={config.model.scale}\n            meshColorIndex={config.meshColorIndex}\n            meshScale={config.meshScale}\n            model={config.model}\n            ref={playerRef}\n          />\n\n          <EffectComposer multisampling={16}>\n            <Bloom\n              kernelSize={config.bloom.kernelSize}\n              luminanceThreshold={config.bloom.luminanceThreshold}\n              luminanceSmoothing={config.bloom.luminanceSmoothing}\n              intensity={config.bloom.intensity}\n            />\n          </EffectComposer>\n        </Suspense>\n\n        <OrbitControls minPolarAngle={Math.PI / 2.8} maxPolarAngle={Math.PI / 1.8} />\n      </Canvas>\n      {ReactDOM.createPortal(\n        <OverlayContainer>\n          <Title>canary in a meme mine</Title>\n          <Subtitle>press enter to start</Subtitle>\n        </OverlayContainer>,\n        document.body\n      )}\n    </>\n  ) : (\n    <Game />\n  )\n}\n\nconst blinkAnimation = keyframes`\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0; }\n`\n\nconst OverlayContainer = styled.div`\n  position: absolute;\n  top: 25px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  pointer-events: none;\n`\n\nconst Title = styled.h1`\n  color: #fff;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n`\n\nconst Subtitle = styled.h2`\n  color: #fff;\n  margin-top: 125px;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;\n  animation: ${blinkAnimation} 1500ms linear infinite;\n`\n\nexport { StartScreen }\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { StartScreen } from './lib/StartScreen'\n\nimport './styles.css'\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <div\n          className={'App'}\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            height: '100%'\n          }}\n        >\n          <StartScreen />\n        </div>\n      </>\n    )\n  }\n}\n\nconst rootElement = document.getElementById('root')\nconst root = createRoot(rootElement)\nroot.render(<App />)\n"],"sourceRoot":""}